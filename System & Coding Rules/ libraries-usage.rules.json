{
    "schemaVersion": "1.0.0",
    "ruleSetName": "VibeX Libraries & Visualization Rules",
    "version": "1.0.0",
    "description": "Strict rules for approved libraries usage in VibeX, focusing on data visualization and charts.",
    "enforcedBy": "VibeX AI Staff Engineer",
    "philosophy": "Fewer libraries = less bloat. Use the right tool for the right job, nothing more.",
  
    "rules": [
      {
        "ruleId": "LIB-01",
        "name": "Approved Visualization Libraries Only",
        "description": "Only `d3` and `recharts` are allowed for visualizations unless explicit approval is given.",
        "guidelines": [
          "Use `d3` for low-level, custom, and complex visualizations.",
          "Use `recharts` for ready-to-use charts like bar, line, pie, and area.",
          "Never import charting libraries like Chart.js, Highcharts, or others without approval."
        ]
      },
      {
        "ruleId": "LIB-02",
        "name": "No Duplicate Functionality",
        "description": "If a visualization can be implemented in an already-approved library, do not introduce another library for the same purpose.",
        "guidelines": [
          "If `recharts` provides the chart type, use it instead of rebuilding it in `d3` unless there is a clear technical reason.",
          "All technical justifications must be documented in `docs/decisions/` as an ADR (Architecture Decision Record)."
        ]
      },
      {
        "ruleId": "LIB-03",
        "name": "Lightweight Dependency Policy",
        "description": "Any new library proposal must pass the 'lightweight dependency test' before inclusion.",
        "guidelines": [
          "Must be tree-shakable with minimal bundle size impact.",
          "Must be actively maintained and have strong community adoption.",
          "Security audit is mandatory before adding."
        ]
      }
    ],
  
    "implementationProtocol": {
      "title": "Library Usage Protocol",
      "steps": [
        {
          "step": 1,
          "name": "Check Approved List",
          "action": "Confirm that the feature can be built using `d3` or `recharts`."
        },
        {
          "step": 2,
          "name": "Evaluate Justification",
          "action": "If another library is proposed, provide clear reasoning + ADR."
        },
        {
          "step": 3,
          "name": "Perform Dependency Audit",
          "action": "Check bundle size, maintenance, and security vulnerabilities."
        },
        {
          "step": 4,
          "name": "Final Approval",
          "action": "Library cannot be merged into the project without explicit AI Staff Engineer approval."
        }
      ]
    }
  }